import React, { useState } from "react";
import { NavLink } from "react-router-dom";
import canadaMap from '../Map.png'

// Example tile positions (adjust based on real data)
const tileData = [
  { id: 1, x: 80, y: 25 },
  { id: 2, x: 95.9, y: 25 },
  //seconds row
  { id: 3, x: 65, y: 40 },
  { id: 4, x: 80, y: 40 },
  { id: 5, x: 95.9, y: 40},
  { id: 6, x: 110.9, y: 40},
  //third row
  { id: 7, x: 50, y: 55},
  { id: 8, x: 65, y: 55 },
  { id: 9, x: 80, y: 55 },
  { id: 10, x: 95.9, y: 55},
  { id: 11, x: 110.9, y: 55},
  { id: 12, x: 125.9, y: 55},
  //forth row
  { id: 13, x: 35, y: 70},
  { id: 14, x: 50, y: 70},
  { id: 15, x: 65, y: 70 },
  { id: 16, x: 80, y: 70 },
  { id: 17, x: 95.9, y: 70},
  { id: 18, x: 110.9, y: 70},
  { id: 19, x: 125.9, y: 70},
  //fifth row
  { id: 20, x: 19.5, y: 85.5},
  { id: 21, x: 35, y: 85.5},
  { id: 22, x: 50, y: 85.5},
  { id: 23, x: 65, y: 85.5},
  { id: 24, x: 80, y: 85.5},
  { id: 25, x: 95.5, y: 85.5},
  { id: 26, x: 110.5, y: 85.5},
  { id: 27, x: 126, y: 85.5},
  { id: 28, x: 141, y: 85.5},
  { id: 29, x: 156, y: 85.5},
  //sixth row
  { id: 30, x: 19.5, y: 100.5},
  { id: 31, x: 35, y: 100.5},
  { id: 32, x: 50, y: 100.5},
  { id: 33, x: 65.5, y: 100.5},
  { id: 34, x: 80.5, y: 100.5},
  { id: 35, x: 95.5, y: 100.5},
  { id: 36, x: 111, y: 100.5},
  { id: 37, x: 126, y: 100.5},
  { id: 38, x: 141, y: 100.5},
  { id: 39, x: 156, y: 100.5},
  { id: 40, x: 171.5, y: 100.5},
  //7th row
  { id: 41, x: 19.5, y: 115.5},
  { id: 42, x: 35, y: 115},
  { id: 43, x: 50, y: 115},
  { id: 44, x: 65, y: 115},
  { id: 45, x: 80.5, y: 115},
  { id: 46, x: 95.5, y: 115},
  { id: 47, x: 110.5, y: 115},
  { id: 48, x: 126, y: 115},
  { id: 49, x: 141, y: 115},
  { id: 50, x: 156, y: 115},
  { id: 51, x: 171.5, y: 115},
  //8th row
  { id: 52, x: 35, y: 130},
  { id: 53, x: 50, y: 130},
  { id: 54, x: 65, y: 130},
  { id: 55, x: 80, y: 130},
  { id: 56, x: 95.5, y: 130},
  { id: 57, x: 110.5, y: 130},
  { id: 58, x: 126, y: 130},
  { id: 59, x: 141, y: 130},
  { id: 60, x: 156, y: 130},
  { id: 61, x: 171.5, y: 130},
  { id: 62, x: 186.5, y: 130},
  { id: 63, x: 201.5, y: 130},
  { id: 64,x: 216.5, y: 130},
  //9th row
  { id: 65, x: 35, y: 145},
  { id: 66, x: 50, y: 145},
  { id: 67, x: 65, y: 145},
  { id: 68, x: 80, y: 145},
  { id: 69, x: 95.5, y: 145},
  { id: 70, x: 110.5, y: 145},
  { id: 71, x: 126, y: 145},
  { id: 72, x: 141, y: 145},
  { id: 73, x: 156, y: 145},
  { id: 74, x: 171.5, y: 145},
  { id: 75, x: 186.5, y: 145},
  { id: 76, x: 201.5, y: 145},
  { id: 77, x: 216.5, y: 145},
  //10th row
  { id: 78, x: 35, y: 160},
  { id: 79, x: 50, y: 160},
  { id: 80, x: 65, y: 160},
  { id: 81, x: 80, y: 160},
  { id: 82, x: 95.5, y: 160},
  { id: 83, x: 110.5, y: 160},
  { id: 84, x: 126, y: 160},
  { id: 85, x: 141, y: 160},
  { id: 86, x: 156, y: 160},
  { id: 87, x: 171.5, y: 160},
  { id: 88, x: 186.5, y: 160},
  { id: 89, x: 201.5, y: 160},
  { id: 90, x: 216.1, y: 160},
  { id: 91, x: 231.5, y: 160},
  { id: 92, x: 247, y: 160},
  { id: 93, x: 382, y: 160},
  { id: 94, x: 412, y: 160},
  { id: 95, x: 427, y: 160},
  { id: 96, x: 442, y: 160},
  //11th row
  { id: 97, x: 20, y: 175},
  { id: 98, x: 35, y: 175},
  { id: 99, x: 50, y: 175},
  { id: 100, x: 65, y: 175},
  { id: 101, x: 80, y: 175},
  { id: 102, x: 95.5, y: 175},
  { id: 103, x: 110.5, y: 175},
  { id: 104, x: 126, y: 175},
  { id: 105, x: 141, y: 175},
  { id: 106, x: 156, y: 175},
  { id: 107, x: 171.5, y: 175},
  { id: 108, x: 186.5, y: 175},
  { id: 109, x: 201.5, y: 175},
  { id: 110, x: 216.5, y: 175},
  { id: 111, x: 231.5, y: 175},
  { id: 112, x: 246.5, y: 175},
  { id: 113, x: 367, y: 175},
  { id: 114, x: 382, y: 175},
  { id: 115, x: 397, y: 175},
  { id: 116, x: 412, y: 175},
  { id: 117, x: 427, y: 175},
  { id: 118, x: 442, y: 175},
  { id: 119, x: 457, y: 175},
  { id: 120, x: 472, y: 175},
  { id: 121, x: 487, y: 175},
  //12th row
  { id: 122, x: 20, y: 190},
  { id: 123, x: 35, y: 190},
  { id: 124, x: 50, y: 190},
  { id: 125, x: 65, y: 190},
  { id: 126, x: 80, y: 190},
  { id: 127, x: 95.5, y: 190},
  { id: 128, x: 110.5, y: 190},
  { id: 129, x: 126, y: 190},
  { id: 130, x: 141, y: 190},
  { id: 131, x: 156, y: 190},
  { id: 132, x: 171.5, y: 190},
  { id: 133, x: 186.5, y: 190},
  { id: 134, x: 201.5, y: 190},
  { id: 135, x: 216.5, y: 190},
  { id: 136, x: 231.5, y: 190},
  { id: 137, x: 246.5, y: 190},
  { id: 138, x: 352, y: 190},
  { id: 139, x: 367, y: 190},
  { id: 140, x: 382, y: 190},
  { id: 141, x: 397, y: 190},
  { id: 142, x: 412, y: 190},
  { id: 143, x: 427, y: 190},
  { id: 145, x: 442, y: 190},
  {id: 146, x: 457, y: 190},
  {id: 147, x: 472, y: 190},
  {id: 148, x: 487, y: 190},
  {id: 149, x: 502, y: 190},
  //13th row
  { id: 150, x: 20, y: 205},
  { id: 151, x: 35, y: 205},
  { id: 152, x: 50, y: 205},
  { id: 153, x: 65, y: 205},
  { id: 154, x: 80, y: 205},
  { id: 155, x: 95.5, y: 205},
  { id: 156, x: 110.5, y: 205},
  { id: 157, x: 126, y: 205},
  { id: 158, x: 141, y: 205},
  { id: 159, x: 156, y: 205},
  { id: 160, x: 171.5, y: 205},
  { id: 161, x: 186.5, y: 205},
  { id: 162, x: 201.5, y: 205},
  { id: 163, x: 216.5, y: 205},
  { id: 164, x: 231.6, y: 205},
  { id: 165, x: 246.5, y: 205},
  { id: 166, x: 262, y: 205},
  { id: 167, x: 352, y: 205},
  { id: 168, x: 367, y: 205},
  { id: 169, x: 382, y: 205},
  { id: 170, x: 397, y: 205},
  { id: 171, x: 412, y: 205},
  { id: 172, x: 427, y: 205},
  { id: 173, x: 442, y: 205},
  {id: 174, x: 457, y: 205},
  {id: 175, x: 472, y: 205},
  {id: 176, x: 487, y: 205},
  {id: 177, x: 502, y: 205},
  {id: 178, x: 517, y: 205},
  {id: 179, x: 532, y: 205},
  //14th row
  { id: 180, x: 20, y: 220},
  { id: 181, x: 35, y: 220},
  { id: 182, x: 50, y: 220},
  { id: 183, x: 65, y: 220},
  { id: 184, x: 80, y: 220},
  { id: 185, x: 95.5, y: 220},
  { id: 186, x: 110.5, y: 220},
  { id: 187, x: 126, y: 220},
  { id: 188, x: 141, y: 220},
  { id: 189, x: 156, y: 220},
  { id: 190, x: 171.5, y: 220},
  { id: 191, x: 186.5, y: 220},
  { id: 192, x: 201.5, y: 220},
  { id: 193, x: 216.5, y: 220},
  { id: 194, x: 231.5, y: 220},
  { id: 195, x: 247, y: 220},
  { id: 196, x: 262, y: 220},
  { id: 197, x: 277, y: 220},
  { id: 198, x: 292, y: 220},
  { id: 199, x: 352, y: 220},
  { id: 200, x: 367, y: 220},
  { id: 201, x: 382, y: 220},
  { id: 202, x: 397, y: 220},
  { id: 203, x: 412, y: 220},
  { id: 204, x: 427, y: 220},
  { id: 205, x: 442, y: 220},
  {id: 206, x: 457, y: 220},
  {id: 207, x: 472, y: 220},
  {id: 208, x: 487, y: 220},
  {id: 209, x: 502, y: 220},
  {id: 210, x: 517, y: 220},
  {id: 211, x: 532, y: 220},
  {id: 212, x: 547.5, y: 220},
  //15th row
  { id: 213, x:20, y: 235},
  { id: 214, x: 35, y: 235},
  { id: 215, x: 50, y: 235},
  { id: 216, x: 65, y: 235},
  { id: 217, x: 80, y: 235},
  { id: 218, x: 95.5, y: 235},
  { id: 219, x: 110.5, y: 235},
  { id: 220, x: 126, y: 235},
  { id: 221, x: 141, y: 235},
  { id: 222, x: 156, y: 235},
  { id: 223, x: 171.5, y: 235},
  { id: 224, x: 186.5, y: 235},
  { id: 225, x: 201.5, y: 235},
  { id: 226, x: 216.5, y: 235},
  { id: 227, x: 231.5, y: 235},
  { id: 228, x: 246.5, y: 235},
  { id: 229, x: 262, y: 235},
  { id: 230, x: 277, y: 235},
  { id: 231, x: 292, y: 235},
  { id: 232, x: 307, y: 235},
  { id: 233, x: 322, y: 235},
  { id: 234, x: 337, y: 235},
  { id: 235, x: 352, y: 235},
  { id: 236, x: 367, y: 235},
  { id: 237, x: 382, y: 235},
  { id: 238, x: 397, y: 235},
  { id: 239, x: 412, y: 235},
  { id: 240, x: 427, y: 235},
  { id: 241, x: 442, y: 235},
  {id: 242, x: 457, y: 235},
  {id: 243, x: 472, y: 235},
  {id: 244, x: 487, y: 235},
  {id: 245, x: 502, y: 235},
  {id: 246, x: 517, y: 235},
  {id: 247, x: 532, y: 235},
  {id: 248, x: 547.5, y: 235},
  //16th row
  { id: 249, x: 35, y: 250},
  { id: 250, x: 50, y: 250},
  { id: 251, x: 65, y: 250},
  { id: 252,x: 80, y: 250},
  { id: 253, x: 95.5, y: 250},
  { id: 254,  x: 110.5, y: 250},
  { id: 255, x: 126, y: 250},
  { id: 256, x: 141, y: 250},
  { id: 257, x: 156, y: 250},
  { id: 258, x: 171.5, y: 250},
  { id: 259, x: 186.5, y: 250},
  { id: 260, x: 201.5, y: 250},
  { id: 261, x: 216.5, y: 250},
  { id: 262, x: 231.5, y: 250},
  { id: 263, x: 246.5, y: 250},
  { id: 264, x: 262, y: 250},
  { id: 265, x: 277, y: 250},
  { id: 266, x: 292, y: 250},
  { id: 267, x: 307, y: 250},
  { id: 268, x: 322, y: 250},
  { id: 269, x: 337, y: 250},
  { id: 270, x: 352, y: 250},
  { id: 271, x: 367, y: 250},
  { id: 272, x: 382, y: 250},
  { id: 273, x: 397, y: 250},
  { id: 274, x: 412, y: 250},
  { id: 275, x: 427, y: 250},
  { id: 276, x: 442, y: 250},
  {id: 277, x: 457, y: 250},
  {id: 278, x: 472, y: 250},
  {id: 279, x: 487, y: 250},
  {id: 280, x: 502, y: 250},
  {id: 281, x: 517, y: 250},
  //17th row
  { id: 282, x: 35, y: 265.5},
  { id: 283, x: 50, y: 265.5},
  { id: 284, x: 65, y: 265.5},
  { id: 285, x: 80, y: 265.5},
  { id: 286, x: 95.5, y: 265.5},
  { id: 287, x: 110.5, y: 265.5},
  { id: 288, x: 171.5, y: 265.5},
  { id: 289, x: 186.5, y: 265.5},
  { id: 290, x: 201.5, y: 265.5},
  { id: 291, x: 216.5, y: 265.5},
  { id: 292, x: 231.5, y: 265.5},
  { id: 293, x: 247, y: 265.5},
  { id: 294, x: 262, y: 265.5},
  { id: 295, x: 277, y: 265.5},
  { id: 296, x: 292, y: 265.5},
  { id: 297, x: 307, y: 265.5},
  { id: 298, x: 322, y: 265.5},
  { id: 299, x: 337, y: 265.5},
  { id: 300, x: 352, y: 265.5},
  { id: 301, x: 367, y: 265.5},
  { id: 302, x: 382, y: 265.5},
  { id: 303, x: 397, y: 265.5},
  { id: 304, x: 412, y: 265.5},
  { id: 305, x: 427, y: 265.5},
  { id: 306, x: 442, y: 265.5},
  { id: 307, x: 457, y: 265.5},
  { id: 308, x: 472, y: 265.5},
  { id: 309, x: 487, y: 265.5},
  { id: 310, x: 502, y: 265.5},
  { id: 311, x: 517, y: 265.5},
  //18th row
  { id: 312, x: 65, y: 280.5},
  { id: 313, x: 80, y: 280.5},
  { id: 314, x: 95.5, y: 280.5},
  { id: 315, x: 110.5, y: 280.5},
  { id: 316, x: 201.5, y: 280.5},
  { id: 317, x: 216.5, y: 280.5},
  { id: 318, x: 231.5, y: 280.5},
  { id: 319, x: 247, y: 280.5},
  { id: 320, x: 262, y: 280.5},
  { id: 321, x: 277, y: 280.5},
  { id: 322, x: 292, y: 280.5},
  { id: 323, x: 307, y: 280.5},
  { id: 324, x: 322, y: 280.5},
  { id: 325, x: 337, y: 280.5},
  { id: 326, x: 352, y: 280.5},
  { id: 327, x: 367, y: 280.5},
  { id: 328, x: 382, y: 280.5},
  { id: 329, x: 397, y: 280.5},
  { id: 330, x: 412, y: 280.5},
  { id: 331, x: 427, y: 280.5},
  { id: 332, x: 442, y: 280.5},
  { id: 333, x: 457, y: 280.5},
  { id: 334, x: 472, y: 280.5},
  { id: 335, x: 487, y: 280.5},
  { id: 336, x: 502, y: 280.5},
  { id: 337, x: 517, y: 280.5},
  { id: 338, x: 532, y: 280.5},
  //19th row
  { id: 339, x: 110.5, y: 296},
  { id: 340, x: 216.5, y: 296},
  { id: 341, x: 231.6, y: 296},
  { id: 342, x: 246.5, y: 296},
  { id: 343, x: 262, y: 296},
  { id: 344, x: 277, y: 296},
  { id: 345, x: 292, y: 296},
  { id: 346, x: 307, y: 296},
  { id: 347, x: 322, y: 296},
  { id: 348, x: 337, y: 296},
  { id: 349, x: 352, y: 296},
  { id: 350, x: 367, y: 296},
  { id: 351, x: 382, y: 296},
  { id: 352, x: 397, y: 296},
  { id: 353, x: 412, y: 296},
  { id: 354, x: 427, y: 296},
  { id: 355, x: 442, y: 296},
  { id: 356, x: 457, y: 296},
  { id: 357, x: 472, y: 296},
  { id: 358, x: 487, y: 296},
  { id: 359, x: 502, y: 296},
  { id: 360, x: 517, y: 296},
  //20th row
  { id: 361, x: 231.5, y: 311},
  { id: 362, x: 247, y: 311},
  { id: 363, x: 262, y: 311},
  { id: 364, x: 277, y: 311},
  { id: 365, x: 292, y: 311},
  { id: 366, x: 307, y: 311},
  { id: 367, x: 322, y: 311},
  { id: 368, x: 337, y: 311},
  { id: 369, x: 352, y: 311},
  { id: 370, x: 367, y: 311},
  { id: 371, x: 382, y: 311},
  { id: 372, x: 397, y: 311},
  { id: 373, x: 412, y: 311},
  { id: 374, x: 427, y: 311},
  { id: 375, x: 442, y: 311},
  { id: 376, x: 457, y: 311},
  { id: 377, x: 472, y: 311},
  { id: 378, x: 487, y: 311},
  //21th row
  { id: 379, x: 322, y: 326},
  { id: 380, x: 337, y: 326},
  { id: 381, x: 352, y: 326},
  { id: 382, x: 367, y: 326},
  { id: 383, x: 382, y: 326},
  { id: 384, x: 397, y: 326},
  { id: 385, x: 412, y: 326},
  { id: 386, x: 427, y: 326},
  { id: 387, x: 442, y: 326},
  //22th row
  { id: 388, x: 367, y: 341.5},
  { id: 389, x: 382, y: 341.5},
  { id: 390, x: 397, y: 341.5},
  // Add all tiles manually to form the shape of Canada
];

function TileSelectionPage() {
  const [selectedTiles, setSelectedTiles] = useState([]);

  const toggleTileSelection = (id) => {
    setSelectedTiles((prev) =>
      prev.includes(id) ? prev.filter((tile) => tile !== id) : [...prev, id]
    );
  };

  const resetSelection = () => setSelectedTiles([]);

  return (
    <div className="flex flex-col items-center p-6">
      {/* Header */}
      <div className="hero bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 text-white py-8 w-full text-center rounded-lg">
        <h1 className="text-3xl font-bold">Tile Selection</h1>
        <p className="text-lg">Select tiles corresponding to the TIFF data.</p>
      </div>

      {/* Tile Selection Area */}
      <div className="relative mt-6 border border-gray-300 shadow-lg rounded-lg overflow-hidden bg-white w-full h-[380px]">
        <img src={canadaMap} alt="Logo" className=" w-full pt-4 pr-3 opacity-100" />
        {tileData.map((tile) => (
          <div
            key={tile.id}
            className={`absolute w-4 h-4 border cursor-pointer transition-all opacity-50 duration-200 ${
              selectedTiles.includes(tile.id)
                ? "bg-blue-500 border-blue-700"
                : "bg-gray-300 border-gray-500 hover:bg-gray-400"
            }`}
            style={{ top: tile.y, left: tile.x }}
            onClick={() => toggleTileSelection(tile.id)}
          ></div>
        ))}
      </div>

      {/* Controls */}
      <div className="flex gap-4 mt-5">
        <button
          onClick={resetSelection}
          className="px-4 py-2 bg-red-500 text-white rounded-md shadow-md hover:bg-red-600"
        >
          Reset Selection
        </button>
        <NavLink to="/Simulation/Generate">
          <button className="px-4 py-2 bg-blue-500 text-white rounded-md shadow-md hover:bg-blue-600">
            Submit
          </button>
        </NavLink>
      </div>
    </div>
  );
}

export default TileSelectionPage;